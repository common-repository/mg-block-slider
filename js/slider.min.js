!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var i=function(){function i(){var e=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=s.selector,l=void 0===n?".wp-block-mgblockslider-slider":n,r=s.theme,o=void 0===r?"light":r,c=s.directionNav,a=void 0===c||c,d=s.hideDirections,h=void 0===d||d,u=s.controlNav,g=void 0!==u&&u,b=s.hideControls,p=void 0!==b&&b,m=s.thumbsNav,_=void 0!==m&&m,v=s.thumbsNavFloat,k=void 0!==v&&v,w=s.thumbsNavFloatPos,f=void 0!==w&&w,L=s.hideThumbs,x=void 0!==L&&L,y=s.autoStart,S=void 0===y||y,E=s.stopOnHover,C=void 0===E||E,A=s.pauseUnfocused,T=void 0===A||A,q=s.waitVideo,H=void 0!==q&&q,N=s.swipeNav,M=void 0===N||N,I=s.animation,O=void 0===I?"slide":I,D=s.vertical,F=void 0!==D&&D,P=s.verticalArrows,B=void 0!==P&&P,X=s.transition,R=void 0===X?"linear":X,j=s.duration,U=void 0===j?5:j,z=s.speed,V=void 0===z?.5:z,G=s.arrowType,J=void 0===G?"":G,K=s.paginationType,Q=void 0===K?"":K,W=s.autoHeight,Y=void 0===W||W,Z=s.lightbox,$=void 0!==Z&&Z,tt=s.lightboxOpens,et=void 0===tt?"slide":tt,it=s.lightboxArrows,st=void 0!==it&&it,nt=s.lightboxCounter,lt=void 0!==nt&&nt;t(this,i),this.selector=l,this.theme=o,this.directionNav=a,this.hideDirections=h,this.controlNav=g,this.hideControls=p,this.thumbsNav=_,this.thumbsNavFloat=k,this.thumbsNavFloatPos=f,this.hideThumbs=x,this.autoStart=S,this.stopOnHover=C,this.pauseUnfocused=T,this.waitVideo=H,this.swipeNav=M,this.animation=O,this.vertical=F,this.verticalArrows=B,this.transition=R,this.duration=1e3*U,this.speed=1e3*V,this.arrowType=J,this.paginationType=Q,this.autoHeight=Y,this.lightbox=$,this.lightboxOpens=et,this.lightboxArrows=st,this.lightboxCounter=lt,this.current=0,this.loadState=!1,this.setAnimation=!1,this.triggerObserver=!1,this.slider=document.querySelector("".concat(this.selector," .wp-block-mg-block-slider-slider__container")),this.slidesContainer=document.querySelector("".concat(this.selector," .wp-block-mg-block-slider-slides__container")),this.slides=document.querySelectorAll("".concat(this.selector," .wp-block-mg-block-slider-slide")),this.i18n=mgblocksliderI18n,this.slider&&(document.addEventListener("DOMContentLoaded",(function(){return e.initSlider()})),window.addEventListener("load",(function(){e.loadState=!0,e.slider.parentElement.removeChild(e.loadingSpinner),e.autoStart&&e.startAnimation()})))}var s,n;return s=i,n=[{key:"initSlider",value:function(){"none"!==this.animation&&(this.slidesContainer.style.transitionDuration="".concat(this.speed,"ms"),this.slidesContainer.style.transitionTimingFunction=this.transition),this.slider.parentElement.classList.add("".concat(this.theme,"-theme")),this.slider.classList.add("is-".concat(this.animation)),this.vertical&&this.slider.classList.add("is-vertical"),this.slides[this.current].classList.add("wp-block-mg-block-slider-slide__current"),2===this.slides.length&&this.slidesContainer.classList.add("wp-block-mg-block-slider-slides__container--2-slides"),this.createControls(),this.orderSlides(this.current),this.loadingEvent(this.loadState),this.swipeNav&&(this.swipeEvents(),this.keyEvents()),this.autoHeight&&(this.calcMinHeight(),this.slider.parentElement.classList.add("auto-height")),this.lightbox&&(this.createLightbox(),this.slider.parentElement.classList.add("has-lightbox"))}},{key:"calcMinHeight",value:function(){var t=this;this.minHeight=this.slides[this.current].getBoundingClientRect().height,this.slides.forEach((function(e){e.getBoundingClientRect().height>t.minHeight&&(t.minHeight=Math.floor(e.getBoundingClientRect().height),window.addEventListener("resize",(function(){clearTimeout(window.resizedFinished),window.resizedFinished=setTimeout((function(){t.minHeight=Math.floor(e.getBoundingClientRect().height),t.slidesContainer.style.height="".concat(t.minHeight,"px")}),100)}))),t.slidesContainer.style.height="".concat(t.minHeight,"px")}))}},{key:"createControls",value:function(){var t=this;if(this.directionNav){var e=document.createElement("div");e.classList.add("wp-block-mg-block-slider-slider__control","wp-block-mg-block-slider-slider__control__arrows"),e.innerHTML='\n\t\t\t\t<p class="wp-block-mg-block-slider-slider__control__arrow wp-block-mg-block-slider-slider__control__arrow--prev" title="'.concat(this.i18n.prev,'">\n\t\t\t\t\t<span class="screen-reader-text">').concat(this.i18n.showPrevSlide,'</span>\n\t\t\t\t</p>\n\t\t\t\t<p class="wp-block-mg-block-slider-slider__control__arrow wp-block-mg-block-slider-slider__control__arrow--next" title="').concat(this.i18n.next,'">\n\t\t\t\t\t<span class="screen-reader-text">').concat(this.i18n.showNextSlide,"</span>\n\t\t\t\t</p>"),""!==this.arrowType&&e.classList.add("wp-block-mg-block-slider-slider__control--".concat(this.arrowType)),this.verticalArrows&&e.classList.add("wp-block-mg-block-slider-slider__control--vertical"),this.slider.appendChild(e);var i=e.querySelector(".wp-block-mg-block-slider-slider__control__arrow--prev"),s=e.querySelector(".wp-block-mg-block-slider-slider__control__arrow--next");i.addEventListener("click",(function(e){e.target.classList.contains("is-changing")||(e.target.classList.add("is-changing"),t.current>0?t.current--:t.current=t.slides.length-1,t.changeSlide("prev"),setTimeout((function(){return e.target.classList.remove("is-changing")}),t.speed))})),s.addEventListener("click",(function(e){e.target.classList.contains("is-changing")||(e.target.classList.add("is-changing"),t.current=(t.current+1)%t.slides.length,t.changeSlide("next"),setTimeout((function(){return e.target.classList.remove("is-changing")}),t.speed))})),this.slider.classList.add("directional-nav"),this.hideDirections&&this.slider.classList.add("directional-nav--is-hidden")}if(this.controlNav){var n=document.createElement("ul");n.classList.add("wp-block-mg-block-slider-slider__control","wp-block-mg-block-slider-slider__control__dots"),this.slides.forEach((function(e,i){return n.innerHTML+='\n\t\t\t\t<li class="wp-block-mg-block-slider-slider__control__dot" title="'.concat(i+1,'">\n\t\t\t\t\t<span class="screen-reader-text">').concat(t.i18n.showSlide," ").concat(i+1,"</span>\n\t\t\t\t</li>")})),""!==this.paginationType&&n.classList.add("wp-block-mg-block-slider-slider__control--".concat(this.paginationType)),this.thumbsNavFloat&&n.classList.add("is-floating","wp-block-mg-block-slider-slider__control--floating-".concat(this.thumbsNavFloatPos)),this.slider.insertAdjacentElement("afterend",n),this.navDots=document.querySelectorAll("".concat(this.selector," .wp-block-mg-block-slider-slider__control__dot")),this.navDots[this.current].classList.add("wp-block-mg-block-slider-slider__control__dot--current"),this.navDots.forEach((function(e,i){e.addEventListener("click",(function(){t.changeControls(t.navDots,"wp-block-mg-block-slider-slider__control__dot--current",i),t.changeSlide("dots",i),(i===t.current+1||i===t.current-1)&&t.changeSlide(!1,i),t.current=i}))})),this.slider.classList.add("control-nav"),this.hideControls&&this.slider.classList.add("control-nav--is-hidden")}if(this.thumbsNav){var l=document.createElement("ul");l.classList.add("wp-block-mg-block-slider-slider__thumbnails"),this.slider.classList.contains("alignwide")&&l.classList.add("alignwide"),this.slider.classList.contains("alignfull")&&l.classList.add("alignfull"),this.slides.forEach((function(e,i){var s=e.querySelector("img")?e.querySelector("img").src:null;if(s){var n=s.split(".").pop(),r=s.slice(0,s.length-n.length-1);l.innerHTML+='\n\t\t\t\t\t\t<li class="wp-block-mg-block-slider-slider__thumb">\n\t\t\t\t\t\t\t<img src="'.concat(r,".").concat(n,'" alt="').concat(t.i18n.slide," ").concat(i+1,'">\n\t\t\t\t\t\t\t<span class="screen-reader-text">').concat(t.i18n.showSlide," ").concat(i+1,"</span>\n\t\t\t\t\t\t</li>")}else s=e.querySelector("video")?"video":"img",l.innerHTML+='\n\t\t\t\t\t\t<li class="wp-block-mg-block-slider-slider__thumb wp-block-mg-block-slider-slider__thumb--'.concat(s,'">\n\t\t\t\t\t\t\t<span class="screen-reader-text">').concat(t.i18n.showSlide," ").concat(i+1,"</span>\n\t\t\t\t\t\t</li>")})),this.slider.insertAdjacentElement("afterend",l),this.thumbs=document.querySelectorAll("".concat(this.selector," .wp-block-mg-block-slider-slider__thumbnails .wp-block-mg-block-slider-slider__thumb")),this.thumbs[this.current].classList.add("wp-block-mg-block-slider-slider__thumb--current"),this.thumbs.forEach((function(e,i){e.addEventListener("click",(function(){t.changeControls(t.navDots,"wp-block-mg-block-slider-slider__control__dot--current",i),t.changeSlide("dots",i),(i===t.current+1||i===t.current-1)&&t.changeSlide(!1,i),t.current=i}))})),this.slider.classList.add("thumbnails-nav"),this.hideThumbs&&this.slider.classList.add("thumbnails-nav--is-hidden")}}},{key:"changeSlide",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.current;this.slides.forEach((function(t,s){if(t.classList.remove("wp-block-mg-block-slider-slide__current","wp-block-mg-block-slider-slide__prev","wp-block-mg-block-slider-slide__next"),setTimeout((function(){e.slidesContainer.classList.remove("wp-block-mg-block-slider-slides__container--prev","wp-block-mg-block-slider-slides__container--next")}),e.speed),t.querySelector("video")){var n=1e3*Math.ceil(t.querySelector("video").duration);e.pauseUnfocused&&(s===i?t.querySelector("video").play():t.querySelector("video").pause()),s===i&&e.waitVideo&&(t.querySelector("video").autoplay?(clearInterval(e.setAnimation),e.setAnimation=setInterval((function(t){e.current=(e.current+1)%e.slides.length,e.changeSlide("next",t)}),n+250)):e.setAnimation=setInterval((function(t){e.current=(e.current+1)%e.slides.length,e.changeSlide("next",t)}),e.duration))}})),"none"===this.animation&&"fade"===this.animation||(this.orderSlides(i),"next"===t&&this.slidesContainer.classList.add("wp-block-mg-block-slider-slides__container--next"),"prev"===t&&this.slidesContainer.classList.add("wp-block-mg-block-slider-slides__container--prev")),this.slides[i].classList.add("wp-block-mg-block-slider-slide__current"),this.controlNav&&this.changeControls(this.navDots,"wp-block-mg-block-slider-slider__control__dot--current",i),this.thumbsNav&&this.changeControls(this.thumbs,"wp-block-mg-block-slider-slider__thumb--current",i)}},{key:"changeControls",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.current;void 0!==t&&(t.forEach((function(t){return t.classList.remove(e)})),t[i].classList.add(e))}},{key:"orderSlides",value:function(t){this.slides.length>2&&(null!=this.slides[t].previousElementSibling?this.slides[t].previousElementSibling.classList.add("wp-block-mg-block-slider-slide__prev"):this.slides[this.slides.length-1].classList.add("wp-block-mg-block-slider-slide__prev"),null!=this.slides[t].nextElementSibling?this.slides[t].nextElementSibling.classList.add("wp-block-mg-block-slider-slide__next"):this.slides[0].classList.add("wp-block-mg-block-slider-slide__next"))}},{key:"swipeEvents",value:function(){var t=this,e=0,i=0;this.slider.parentElement.addEventListener("touchstart",(function(e){clearInterval(t.setAnimation),t.slider.classList.add("dragging"),t.slidesContainer.style.transitionDuration="0ms",i=e.touches[0].clientX-t.slides[t.current].clientLeft})),this.slider.parentElement.addEventListener("touchmove",(function(s){e=s.touches[0].clientX,!t.vertical&&t.slides.length>2&&("slide"===t.animation||"cards"===t.animation)&&(t.slides[t.current].style.transform="translate3d(".concat(e-i,"px, 0, 0)"),t.slidesContainer.querySelector(".wp-block-mg-block-slider-slide__prev").style.transform="translate3d(calc(".concat(e-i,"px - 100%), 0, 0)"),t.slidesContainer.querySelector(".wp-block-mg-block-slider-slide__next").style.transform="translate3d(calc(".concat(e-i,"px + 100%), 0, 0)"))})),this.slider.parentElement.addEventListener("touchend",(function(){t.slidesContainer.querySelector(".wp-block-mg-block-slider-slide__current").style.removeProperty("transform"),t.slides.length>2&&(t.slidesContainer.querySelector(".wp-block-mg-block-slider-slide__prev").style.removeProperty("transform"),t.slidesContainer.querySelector(".wp-block-mg-block-slider-slide__next").style.removeProperty("transform")),0!==e&&(i-e<-50?(t.current>0?t.current--:t.current=t.slides.length-1,t.changeSlide("prev")):i-e>50&&(t.current=(t.current+1)%t.slides.length,t.changeSlide("next")),e=0),t.slider.classList.remove("dragging"),t.slidesContainer.style.transitionDuration="".concat(t.speed,"ms"),t.autoStart&&(t.setAnimation=setInterval((function(){t.current=(t.current+1)%t.slides.length,t.changeSlide("next",t.current)}),t.duration))}))}},{key:"keyEvents",value:function(){var t=this;document.addEventListener("keydown",(function(e){switch(clearInterval(t.setAnimation),e.key){case"ArrowLeft":t.slider.classList.contains("is-changing")||(t.slider.classList.add("is-changing"),t.current>0?t.current--:t.current=t.slides.length-1,t.changeSlide("prev"),setTimeout((function(){return t.slider.classList.remove("is-changing")}),t.speed));break;case"ArrowRight":t.slider.classList.contains("is-changing")||(t.slider.classList.add("is-changing"),t.current=(t.current+1)%t.slides.length,t.changeSlide("next"),setTimeout((function(){return t.slider.classList.remove("is-changing")}),t.speed))}t.autoStart&&(t.setAnimation=setInterval((function(){t.current=(t.current+1)%t.slides.length,t.changeSlide("next",t.current)}),t.duration))}))}},{key:"startAnimation",value:function(){var t=this;this.setAnimation=setInterval((function(){t.current=(t.current+1)%t.slides.length,t.changeSlide("next")}),this.duration),this.stopOnHover?(this.slider.parentElement.addEventListener("mouseenter",(function(){return clearInterval(t.setAnimation)})),this.slider.parentElement.addEventListener("mouseleave",(function(){t.setAnimation=setInterval((function(){t.current=(t.current+1)%t.slides.length,t.changeSlide("next",t.current)}),t.duration)}))):this.slider.parentElement.addEventListener("click",(function(){clearInterval(t.setAnimation),t.setAnimation=setInterval((function(){t.current=(t.current+1)%t.slides.length,t.changeSlide("next",t.current)}),t.duration)})),this.pauseUnfocused&&new IntersectionObserver((function(e,i){e.forEach((function(e){e.isIntersecting?t.triggerObserver&&(t.setAnimation=setInterval((function(e){t.current=(t.current+1)%t.slides.length,t.changeSlide("next",e)}),t.duration)):(clearInterval(t.setAnimation),t.triggerObserver=!0)}))}),{root:null,rootMargin:"0px",threshold:.3}).observe(this.slider),document.addEventListener("visibilitychange",(function(){"visible"!==document.visibilityState?clearInterval(t.setAnimation):t.setAnimation=setInterval((function(){t.current=(t.current+1)%t.slides.length,t.changeSlide("next",t.current)}),t.duration)}))}},{key:"createLightbox",value:function(){var t=this,e=document.createElement("div");e.classList.add("wp-block-mg-block-slider-slider__lightbox"),e.innerHTML='\n\t\t\t<ul class="wp-block-mg-block-slider-slider__lightbox__container"></ul>\n\t\t\t<p class="wp-block-mg-block-slider-slider__lightbox__control wp-block-mg-block-slider-slider__lightbox__control--close" title="'.concat(this.i18n.closeLightbox,'"><span class="screen-reader-text">').concat(this.i18n.closeLightbox,'</span></p>\n\t\t\t<p class="wp-block-mg-block-slider-slider__lightbox__control wp-block-mg-block-slider-slider__lightbox__control--prev" title="').concat(this.i18n.prev,'"><span class="screen-reader-text">').concat(this.i18n.prevSlide,'</span></p>\n\t\t\t<p class="wp-block-mg-block-slider-slider__lightbox__control wp-block-mg-block-slider-slider__lightbox__control--next" title="').concat(this.i18n.next,'"><span class="screen-reader-text">').concat(this.i18n.nextSlide,"</span></p>\n\t\t");var i,s,n=e.querySelector(".wp-block-mg-block-slider-slider__lightbox__container"),l=e.querySelector(".wp-block-mg-block-slider-slider__lightbox__control--prev"),r=e.querySelector(".wp-block-mg-block-slider-slider__lightbox__control--next");"button"===this.lightboxOpens&&((i=document.createElement("p")).classList.add("wp-block-mg-block-slider-slide__open-lightbox"),i.setAttribute("title",this.i18n.openLightbox),i.innerHTML='+ <span class="screen-reader-text">'.concat(this.i18n.openLightbox,"</span>")),this.lightboxCounter&&((s=document.createElement("span")).classList.add("wp-block-mg-block-slider-slider__lightbox__control","wp-block-mg-block-slider-slider__lightbox__control--counter"),e.appendChild(s)),""!==this.arrowType&&(e.querySelectorAll(".wp-block-mg-block-slider-slider__lightbox__control").forEach((function(e){return e.classList.add("wp-block-mg-block-slider-slider__lightbox__control--".concat(t.arrowType))})),"button"===this.lightboxOpens&&i.classList.add("wp-block-mg-block-slider-slide__open-lightbox--".concat(this.arrowType))),this.lightboxArrows||(l.classList.add("wp-block-mg-block-slider-slider__lightbox__control--hidden"),r.classList.add("wp-block-mg-block-slider-slider__lightbox__control--hidden")),this.slides.forEach((function(l){var r=l.cloneNode(!0);if(r.classList.remove("wp-block-mg-block-slider-slide__current","wp-block-mg-block-slider-slide__prev","wp-block-mg-block-slider-slide__next"),n.appendChild(r),"button"===t.lightboxOpens){var o=i.cloneNode(!0);l.appendChild(o),o.addEventListener("click",(function(){document.body.style.overflow="hidden",n.style.transform="translateX(-".concat(100*t.current,"vw)"),e.classList.add("wp-block-mg-block-slider-slider__lightbox--is-open"),r.classList.add("wp-block-mg-block-slider-slide__current"),t.lightboxCounter&&(s.innerHTML="".concat(t.current+1,"/").concat(t.slides.length))}))}else l.setAttribute("data-openlightbox","true"),l.addEventListener("click",(function(){document.body.style.overflow="hidden",n.style.transform="translateX(-".concat(100*t.current,"%)"),e.classList.add("wp-block-mg-block-slider-slider__lightbox--is-open"),r.classList.add("wp-block-mg-block-slider-slide__current"),t.lightboxCounter&&(s.innerHTML="".concat(t.current+1,"/").concat(t.slides.length))}))})),e.querySelector(".wp-block-mg-block-slider-slider__lightbox__control--close").addEventListener("click",(function(){e.classList.remove("wp-block-mg-block-slider-slider__lightbox--is-open"),document.body.style.overflow=null})),l.addEventListener("click",(function(){t.current>0?t.current--:t.current=t.slides.length-1,t.changeSlide("prev"),n.style.transform="translateX(-".concat(100*t.current,"%)"),t.lightboxCounter&&(s.innerHTML="".concat(t.current+1,"/").concat(t.slides.length))})),r.addEventListener("click",(function(){t.current=(t.current+1)%t.slides.length,t.changeSlide("next"),n.style.transform="translateX(-".concat(100*t.current,"%)"),t.lightboxCounter&&(s.innerHTML="".concat(t.current+1,"/").concat(t.slides.length))})),n.style.width="".concat(100*this.slides.length,"%"),this.slider.parentElement.appendChild(e)}},{key:"loadingEvent",value:function(t){t||(this.loadingSpinner=document.createElement("div"),this.loadingSpinner.classList.add("wp-block-mg-block-slider-slider__loading"),this.loadingSpinner.innerHTML='<p><span class="screen-reader-text">'.concat(this.i18n.loading,"</span></p>"),this.slider.parentElement.appendChild(this.loadingSpinner))}}],n&&e(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),i}();!function(t){void 0===t.MGBlockSlider&&(t.MGBlockSlider=i)}(window)}();